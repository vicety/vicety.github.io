

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/vicety/Images@master/images/momiji-ico.ico">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/vicety/Images@master/images/momiji-ico.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="vicety">
  <meta name="keywords" content="">
  
    <meta name="description" content="pid&#x3D;89596542 介绍Dynamo是一个关注高可用的KV Store，支持get(key)、put(key, context, value)两种操作。 Assumption &amp; 设计思路 适用于那些需要对可用性、一致性、cost-effectiveness与性能有所掌控的应用。[ch1] 论文认为支持ACID的存储的可用性都不好 传统的replicate算法使用同步的re">
<meta property="og:type" content="article">
<meta property="og:title" content="Dynamo: Amazon’s Highly Available Key-value Store">
<meta property="og:url" content="https://vicety.github.io/2022/04/12/Dynamo/index.html">
<meta property="og:site_name" content="vicety的博客">
<meta property="og:description" content="pid&#x3D;89596542 介绍Dynamo是一个关注高可用的KV Store，支持get(key)、put(key, context, value)两种操作。 Assumption &amp; 设计思路 适用于那些需要对可用性、一致性、cost-effectiveness与性能有所掌控的应用。[ch1] 论文认为支持ACID的存储的可用性都不好 传统的replicate算法使用同步的re">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/vicety/Images/master/images20220412192128.png">
<meta property="article:published_time" content="2022-04-12T14:53:00.000Z">
<meta property="article:modified_time" content="2023-02-09T04:27:58.857Z">
<meta property="article:author" content="vicety">
<meta property="article:tag" content="加密">
<meta property="article:tag" content="论文阅读">
<meta property="article:tag" content="分布式">
<meta property="article:tag" content="存储">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/vicety/Images/master/images20220412192128.png">
  
  
  
  <title>Dynamo: Amazon’s Highly Available Key-value Store - vicety的博客</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"vicety.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"TdxzU2OpwN7XHsa0T05Y01Kn-gzGzoHsz","app_key":"lfgF4JmupaIQkD5xRHAIBfTk","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 90vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>vicety的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('https://raw.githubusercontent.com/vicety/Images/master/images89596542_p0.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Dynamo: Amazon’s Highly Available Key-value Store"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-04-12 16:53" pubdate>
          2022年4月12日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.2k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          53 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Dynamo: Amazon’s Highly Available Key-value Store</h1>
            
            
              <div class="markdown-body">
                
                <p>pid&#x3D;89596542</p>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>Dynamo是一个关注高可用的KV Store，支持<code>get(key)</code>、<code>put(key, context, value)</code>两种操作。</p>
<h3 id="Assumption-amp-设计思路"><a href="#Assumption-amp-设计思路" class="headerlink" title="Assumption &amp; 设计思路"></a>Assumption &amp; 设计思路</h3><ol>
<li>适用于那些需要对可用性、一致性、cost-effectiveness与性能有所掌控的应用。[ch1]</li>
<li>论文认为支持ACID的存储的可用性都不好</li>
<li>传统的replicate算法使用同步的replica coordination来提供强一致性，如果系统一直不能确定当前状态的正确性，就一直不可用。Dynamo牺牲一致性换区可用性，提供最终一致性[ch2.3]。</li>
<li>Dynamo不提供任何隔离性保证，仅允许对单个key的update，因此也没有关系型范式[ch2.1]</li>
<li>Dynamo选择在读时（而不是写）解决冲突，保证写请求不会被拒绝。</li>
<li>Dynamo选择让用户解决冲突（而不是在data store，如使用CRDT）</li>
<li>所有node是对称的（无leader）</li>
</ol>
<h3 id="数据分片"><a href="#数据分片" class="headerlink" title="数据分片"></a>数据分片</h3><p>一致性哈希+虚拟节点，[1] 6.2节提到了一些优化，基于Chord[2]的环上后继N节点作为baseline，这里指出问题但不解答</p>
<ol>
<li>虚拟节点的后继N个节点可能对应的真实物理节点不足N个</li>
<li>副本需要分布在不同数据中心</li>
</ol>
<p>TODO</p>
<h3 id="读写过程"><a href="#读写过程" class="headerlink" title="读写过程"></a>读写过程</h3><p>首先需要了解的是，广播不是直接从 client 发起的，而是 client 委托 coordinator 发起的</p>
<p>Question: coordinator 节点是什么样的节点？</p>
<p>通常写在读之后，读响应会携带时延信息，选择时延最少的节点作为本次读写的节点</p>
<blockquote>
<p>Although it is desirable always to have the first node among the top N to coordinate the writes thereby serializing all writes at a single location, this approach has led to uneven load distribution resulting in SLA violations. This is because the request load is not uniformly distributed across objects. To counter this, any of the top N nodes in the preference list is allowed to coordinate the writes. In particular, since each write usually follows a read operation, <strong>the coordinator for a write is chosen to be the node that replied fastest to the previous read operation which is stored in the context information of the request</strong>.</p>
</blockquote>
<p>写流程</p>
<blockquote>
<p>Upon receiving a put() request for a key, the coordinator generates the vector clock for the new version and writes the new version locally. The coordinator then sends the new version (along witht he new vector clock) to the N highest-ranked reachable nodes. If at least W-1 nodes respond then the write is considered<br>successful.</p>
</blockquote>
<p>读流程</p>
<blockquote>
<p>for a get() request, the coordinator requests all existing versions of data for that key from the N highest-ranked reachable nodes in the preference list for that key, and then waits for R responses before returning the result to the client. If the coordinator ends up gathering multiple versions of the data, it returns all the versions it deems to be causally unrelated. The divergent versions are then reconciled and the reconciled version superseding the current versions is written back.</p>
</blockquote>
<h3 id="Data-Versioning"><a href="#Data-Versioning" class="headerlink" title="Data Versioning"></a>Data Versioning</h3><p>读写都会发起一次广播，但仅需收到R、W个响应（可配置）即可将请求成功返回给用户，这是用一致性换可用性的核心。如果<code>R+W&gt;N</code>（N为数据的replica数目），可以实现非并发读写一定能读到写入值的效果，实践上的<code>N R W</code>配置也是<code>3 2 2</code>。需要注意的是若发生并发读写，读到的值是不一定的。</p>
<p>举个例子 N&#x3D;3 W&#x3D;2 R&#x3D;2，并发读写，假设写成功了1个，此时读可能读到 全新值 | 新旧混合 | 全旧值 三种，并且可能先读到新值（新旧混合，vector clock解决冲突），随后再读一次读到旧值。</p>
<p>这个实现显然不是 SC，更不是 LIN 的。</p>
<p>对于读到的值之间不互相同的情形，需要解决冲突，有个两个问题：何时解决，谁来解决。</p>
<p>为了形象地讨论这两个问题，给出两个例子：<strong>第一个例子</strong>类似于上方介绍的的，Client2读到Client1只更新了一部分的数据，读到的数据中一部分数据是“新”的，一部分数据是旧的。<strong>第二个例子</strong>，见下方插图，每次写入必须携带一个context，用于指定当前的写希望基于哪个版本更新，context会在读操作中返回。一个新的branch，基于某个“旧”数据，不同的client将其update为了不同的新状态，即D3 D4两个branch。</p>
<blockquote>
<p>In Dynamo, when a client wishes to update an object, it must specify which version it is updating. This is done by passing the context it obtained from an earlier read operation, which contains the vector clock information.</p>
</blockquote>
<img src="https://raw.githubusercontent.com/vicety/Images/master/images20220412192128.png" srcset="/img/loading.gif" lazyload width="35%" height="35%" style="margin-left:auto; margin-right:auto; display:block">

<p>将冲突交给存储层（在写入时）解决的话[ch2.3]，只能应用一些简单的策略，如Last write wins的CRDT。但举个例子，亚马逊的购物车[ch4.4]希望冲突时对购物车中的物品取并集，尽管 CRDT 2P-Set 也支持维护集合，但我的看法是，存储层不知道数据的含义，除非整个 DB 都只存集合性质的数据，否则无法满足所有类型冲突数据的合并</p>
<p>Dynamo选择将冲突解决交给用户处理。Dynamo对数据维护了vector clock，在client读取的返回值中会包含节点的所有leaf信息，用户下次写入时会使用这些leaf vector lock的上确界，将这些叶子节点合并，原文如下：</p>
<blockquote>
<p>Upon processing a read request, if Dynamo has access to multiple branches that cannot be syntactically reconciled, it will return all the objects at the leaves, with the corresponding version information in the context. An update using this context is considered to have reconciled the divergent versions and the branches are collapsed into a single new version.</p>
</blockquote>
<p>分析上面的两个例：</p>
<ul>
<li>对于第一个例子：Dynamo会根据vector clock对有因果关系的数据进行回收，因此只能看到新数据。</li>
<li>对于没有因果关系的第二个例子：读取的返回值中包含访问的key的value的所有叶子D3、D4，由 client 解决冲突后写回，写回的数据具有所有叶子时钟的上确界，即[Sx, 2] [Sy, 1] [Sz, 1]，client id 对应Sx，在Sx维度上还要加一，因此写回的 vector clock 是[Sx, 3] [Sy, 1] [Sz, 1]。写入后，由于 vector clock 出现因果关系，Dynamo 会将之前的叶子全部回收。</li>
</ul>
<p>Question: 如果写回的具有时钟上界的数据，如果写到了某个不构成上界的节点（之前没读到它）会发生什么？<br>我的想法：不会怎么样，它们没有因果关系，那么会新建分支（同时尝试消灭存在因果关系的分支），新产生的分支什么时候读到了，什么时候解决</p>
<p>[ch6.3]在实践中发现，5.7e-6概率读请求看见两个冲突版本，4.7e-6三个，9e-7四个，并且冲突通常也不是用户访问导致的，而是自动化client导致的</p>
<p>Question: 如果读，选择覆盖的时间戳，写这套流程，写时发现不再能覆盖了，会发生什么？<br>不会有问题，不能覆盖只会导致分支的产生，可以在后续的读取+写入时解决冲突</p>
<h3 id="Temporary-Failure-Hinted-Handoff"><a href="#Temporary-Failure-Hinted-Handoff" class="headerlink" title="Temporary Failure: Hinted Handoff"></a>Temporary Failure: Hinted Handoff</h3><p>[3]假设N&#x3D;3，如果 ABC 中 A <strong>短暂</strong>挂掉，新的增量数据会转而写入 D，这些转而写入的数据会被存储在特殊位置并且<strong>有元数据信息描述该数据的原始位置</strong>（A）。一旦 D 检测到 A 节点恢复，就会将该本来不属于自己的数据迁移至原本的位置（A）。如本节标题所述，这是解决临时 Failure 的办法。</p>
<h3 id="Permanent-Failure-Replica-Synchronization"><a href="#Permanent-Failure-Replica-Synchronization" class="headerlink" title="Permanent Failure: Replica Synchronization"></a>Permanent Failure: Replica Synchronization</h3><p>先介绍Merkle Tree这个数据结构，叶子节点存数据的hash，parent节点存所有叶子节点的hash，优势是<strong>快速找到数据不一致的部分，避免全量数据传递</strong></p>
<p>Question：Merkle Tree的概念我懂了，但KV update也需要修改树，这样不会导致KV写入LogN复杂度吗？<br>回答：会，我的想法是底数（扇出）变大一些，就像B+树那样，这样写入仍然是接近常数级别，而且主要时间消耗还是在网络上</p>
<p>Question：如何知道不一致的话谁的数据应当被采纳？<br>我的理解，也是按逻辑时钟来覆盖</p>
<p>Git、Bitcoin 也使用了这一数据结构[4]</p>
<blockquote>
<p>There are scenarios under which hinted replicas become unavailable before they can be returned to the original replica node. To handle this and other threats to durability, Dynamo implements an anti-entropy (replica synchronization) protocol to keep the replicas synchronized.</p>
</blockquote>
<p>回到Dynamo，物理节点中，对每个虚拟节点维护一个 Merkle Tree，我理解 anti-entropy 就是定时比较并同步数据</p>
<h3 id="Membership-and-Failure-Detection"><a href="#Membership-and-Failure-Detection" class="headerlink" title="Membership and Failure Detection"></a>Membership and Failure Detection</h3><p>使用 Gossip 协议实现最终一致的 Membership：每个节点定期随机选择节点去 Reconcile Membership 信息，同时为了避免逻辑隔离，如节点组A与节点组B之间互相不知道导致隔离，节点也会与预先配置的 seed 节点通信来 reconcile，从而避免这个问题</p>
<p>当某节点不回复自己的消息时，视为 fail，随后定期检查是否 come back，同时利用 Gossip 协议传播这个消息</p>
<h3 id="CAP"><a href="#CAP" class="headerlink" title="CAP"></a>CAP</h3><p>TODO</p>
<h3 id="与其他KV-Store的比较"><a href="#与其他KV-Store的比较" class="headerlink" title="与其他KV Store的比较"></a>与其他KV Store的比较</h3><ul>
<li><p>与基于单Leader Paxos或Raft的KV DB的比较<br>相似：读写都是广播，需要部分的ack来完成commit<br>不同：Dynamo没有Leader，读写可以发往任意负责此key的server</p>
</li>
<li><p>与Chord、Cassandra的比较<br>TODO</p>
</li>
<li><p>与DynamoDB的关系</p>
</li>
</ul>
<blockquote>
<p>[5] Amazon DynamoDB is “built on the principles of Dynamo” and is a hosted service within the AWS infrastructure. However, while Dynamo is based on leaderless replication, DynamoDB uses single-leader replication.</p>
</blockquote>
<p>看起来是完全不同的，DynamoDB据说更像是SimpleDB</p>
<h3 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h3><ul>
<li><p><strong>Read Repair</strong>：当收到足够的读请求以返回response后，还等待一小段时间，对期间到来的其他读响应，如果发现其数据是落后的，发送数据使其跟上</p>
</li>
<li><p>为什么不总是使用N个replica的第一个节点作为coordinator来serialize所有的写操作：因为这样会导致负载不均衡</p>
</li>
<li><p>写入时的coordinator选择之前读取时最快响应的那个节点（在context信息中包含），这样做的假设是下次读取时此节点仍然最快响应，使得client之前的写入包含在响应中，更高概率保证read-your-writes consistency</p>
</li>
<li><p>对于一些高性能要求的服务，就像MySQL <code>innodb_flush_log_at_tx_commit</code>参数一样，在内存维护cache，定时刷盘，这是用持久性交换性能的考虑。为了减少数据丢失，在写入N个replica时会选择一些做立即持久化写入。</p>
</li>
<li><p>利用一些metric threshold来确定何时执行后台任务（如暂时或永久的节点变更导致的hinting或数据迁移），以最少地影响前台任务（get&#x2F;put），如database的读延迟</p>
</li>
<li><p>以上实践是在上百节点的集群中完成的，论文指出对于上千节点，维护路由表的负担可能会成为问题</p>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li>读写流程：client 委托 coordinator 做半同步广播，读 R 节点，写 W 节点，写时解决冲突，vector clock 的每一维代表一个 client</li>
<li>数据分片：一致性哈希 + 虚拟节点</li>
<li>临时不可用：使用新节点记录期间的写入，新节点同时监听挂掉节点的状态，恢复后同步回去</li>
<li>永久不可用：定时比较 Merkle Tree 信息并同步缺少的数据，我理解这是这个系统 <strong>最终一致</strong> 的含义（因为写修复必须要等到写时才能修复）</li>
<li>Membership：Gossip，这部分没细看</li>
</ul>
<p>Membership可以参考这里的解说 <a target="_blank" rel="noopener" href="https://www.qtmuniao.com/2020/06/13/dynamo/">https://www.qtmuniao.com/2020/06/13/dynamo/</a></p>
<blockquote>
<p>可以看出，Dynamo 将节点的永久离开和暂时离开分开处理。使用显示接口来永久增删成员，并将成员拓扑通过 gossip 算法进行广播；使用简单标记和心跳来处理偶发故障，合理进行流量转发。</p>
</blockquote>
<h2 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h2><ol>
<li><a target="_blank" rel="noopener" href="https://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf">Dynamo: Amazon’s Highly Available Key-value Store</a></li>
<li><a target="_blank" rel="noopener" href="https://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf">Chord: A Scalable Peer-to-peer Lookup Service for Internet Applications</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/27853552">知乎专栏 - Dynamo: Amazon’s Highly Available Key-value Store</a></li>
<li><a target="_blank" rel="noopener" href="https://medium.com/geekculture/understanding-merkle-trees-f48732772199">Understanding Merkle Trees - the quintessence of Git, Bitcoin, and DynamoDB</a></li>
<li><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Dynamo_(storage_system)">Dynamo (storage system)</a></li>
</ol>
<p>没有用上的材料</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904030225825799#%E6%95%B0%E6%8D%AE%E4%B8%80%E8%87%B4%E6%80%A7%E5%92%8C%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3">重读 Amazon Dynamo 论文有感</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E6%8A%80%E6%9C%AF/" class="category-chain-item">技术</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%8A%A0%E5%AF%86/">#加密</a>
      
        <a href="/tags/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/">#论文阅读</a>
      
        <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/">#分布式</a>
      
        <a href="/tags/%E5%AD%98%E5%82%A8/">#存储</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Dynamo: Amazon’s Highly Available Key-value Store</div>
      <div>https://vicety.github.io/2022/04/12/Dynamo/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>vicety</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年4月12日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/04/26/Java%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/" title="Java字符编码">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Java字符编码</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/04/09/CRDT/" title="Conflict-free replicated data type">
                        <span class="hidden-mobile">Conflict-free replicated data type</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  <article id="comments" lazyload>
    
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.4.17/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"p7Skzx1UifgNosmr5ms2nILv-gzGzoHsz","appKey":"W73NSV1s3dRPtfceJDBsX5uP","path":"window.location.pathname","placeholder":null,"avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"","emojiCDN":null,"emojiMaps":null,"enableQQ":false},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


  </article>


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
